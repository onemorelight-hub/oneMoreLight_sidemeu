<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="primary"></ion-menu-button>
    </ion-buttons>
    <ion-title color="primary">{{ viewOption }}  -  {{ currentLocation }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ viewOption }}</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-segment scrollable (ionChange)="segmentChanged($event)" value={{currentLocation}}>
    <ion-segment-button *ngFor="let country of countries" value={{country}}>
      <ion-label>{{country}}</ion-label>
    </ion-segment-button>
  </ion-segment>
  
  <div id="container">
    <div *ngIf="topNews" style="padding: 0cm;">
      <div no-margin style="padding: 0cm;" *ngFor="let news of topNews.articles">
       <a color="primary" (click)="method(news.url)" style="padding: 0cm;">
        <ion-card style="padding: 0cm;">
            <img src="{{news.urlToImage}}" />
            <ion-card-content>
              <ion-card-title>
                {{news.title }}
                <p>{{news.publishedAt | date:'medium'}} | {{news.author}}</p>
              </ion-card-title>
              <ion-card-subtitle>
                <p>{{news.description}}</p>
              </ion-card-subtitle>
            </ion-card-content>
        </ion-card>
        </a>
      </div>

      <!-- explore news implementation-->
    <div *ngFor="let docs of listNewsPages">
      <div  style="padding: 0cm;" *ngFor="let news of docs.docs">
        <a color="primary" (click)="method(news.url)" style="padding: 0cm;">
          <ion-card style="padding: 0cm;">
            <img src="{{news.urlToImage}}" />
            <ion-card-content>
              <ion-card-title>
                {{news.title }}
                <p>{{news.publishedAt | date:'medium'}} | {{news.author}}</p>
              </ion-card-title>
              <ion-card-subtitle>
                <p>{{news.description}}</p>
              </ion-card-subtitle>
            </ion-card-content>
          </ion-card>
        </a>
      </div>
    </div>
  </div>

  <ion-infinite-scroll threshold="100%" (ionInfinite)="loadData($event)" [disabled]="false">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>


  <!-- End-->
  <div *ngIf="errMess">
    <p>Error: {{errMess}}</p>
  </div>
</div>
</ion-content>
